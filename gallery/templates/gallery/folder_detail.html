{% extends "gallery/base.html" %}
{% load static %}

{% block title %}{{ folder.name }} Â· TDM{% endblock %}

{% block content %}
  <style>
    .folder-hero{ display:grid; grid-template-columns:320px 1fr; gap:16px; align-items:center; margin-bottom:20px; }
    .folder-hero-media{ aspect-ratio:4/3; border-radius:10px; overflow:hidden; background:#111; }
    .folder-hero-media img{ width:100%; height:100%; object-fit:cover; display:block; }
    .muted{ color:#bbb; }
    .album-grid{ display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); gap:20px; list-style:none; padding:0; margin:0; }
    .album-card{ background:#1f1f1f; border-radius:8px; overflow:hidden; }
    .album-card-media{ aspect-ratio:4/3; background:#111; }
    .album-card-media img{ width:100%; height:100%; object-fit:cover; display:block; }
    .album-card-body{ padding:.75rem .85rem; }
    .album-name{ font-weight:700; }
    @media (max-width:720px){ .folder-hero{ grid-template-columns:1fr; } }
  </style>

  <div class="folder-hero">
    <div class="folder-hero-media">
      {% if folder.cover_image %}
        <img src="{{ folder.cover_image.url }}" alt="{{ folder.name }}">
      {% else %}
        <img src="{% static 'img/folder_placeholder.png' %}" alt="{{ folder.name }}">
      {% endif %}
    </div>
    <div>
      <h1>{{ folder.name }}</h1>
      {% if folder.description %}<p class="muted">{{ folder.description }}</p>{% endif %}
    </div>
  </div>

  <h2>Albums</h2>
  <ul class="album-grid">
    {% for album in albums %}
      <li class="album-card">
        <a class="album-card-link" href="{% url 'gallery:album_detail' pk=album.pk %}">
          <div class="album-card-media">
            {% if album.cover_image %}
              <img src="{{ album.cover_image.url }}" alt="{{ album.title }}">
            {% else %}
              <img src="{% static 'img/folder_placeholder.png' %}" alt="{{ album.title }}">
            {% endif %}
          </div>
          <div class="album-card-body">
            <div class="album-name">{{ album.title }}</div>
          </div>
        </a>
      </li>
    {% empty %}
      <li>No albums in this folder yet.</li>
    {% endfor %}
  </ul>
{% endblock %}


<!-- {% load static %}
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{{ folder.name }}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="{% static 'css/gallery.css' %}" rel="stylesheet">
</head>
<body>
  <main class="container">
    <div class="folder-hero">
      <div class="folder-hero-media">
        {% if folder.cover_image %}
          <img src="{{ folder.cover_image.url }}" alt="{{ folder.name }}">
        {% else %}
          <img src="{% static 'img/folder_placeholder.png' %}" alt="{{ folder.name }}">
        {% endif %}
      </div>
      <div class="folder-hero-text">
        <h1>{{ folder.name }}</h1>
        {% if folder.description %}<p class="muted">{{ folder.description }}</p>{% endif %}
      </div>
    </div>

    <h2>Albums</h2>
    <ul class="album-grid">
      {% for album in albums %}
        <li class="album-card">
          <a class="album-card-link" href="{% url 'gallery:album_detail' pk=album.pk %}">
            <div class="album-card-media">
              {% if album.cover_image %}
                <img src="{{ album.cover_image.url }}" alt="{{ album.title }}">
              {% else %}
                <img src="{% static 'img/folder_placeholder.png' %}" alt="{{ album.title }}">
              {% endif %}
            </div>
            <div class="album-card-body">
              <div class="album-name">{{ album.title }}</div>
            </div>
          </a>
        </li>
      {% empty %}
        <li>No albums in this folder yet.</li>
      {% endfor %}
    </ul>
  </main>
</body>
</html> -->
